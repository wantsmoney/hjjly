import{_ as p,o as u,c as m,a,y as s,z as d,g as c}from"./index-f95716da.js";const h={data(){return{schoolName:"",longitude:"",latitude:"",map:null}},mounted(){this.loadBaiduMapAPI().then(()=>{this.initMap()})},methods:{loadBaiduMapAPI(){return new Promise((t,e)=>{if(window.BMap)t();else{window.initBaiduMap=()=>{t()};const o=document.createElement("script");o.type="text/javascript",o.src="https://api.map.baidu.com/api?v=3.0&ak=nPb4RAIHWhMIfZ1XXa8d0bqE9bwuG3yx&callback=initBaiduMap",o.onerror=e,document.head.appendChild(o)}})},initMap(){const t=new BMap.Map("map-container");new BMap.Geocoder().getPoint("泉州信息工程学院",o=>{if(o){t.centerAndZoom(o,15);const i=new BMap.Marker(o);t.addOverlay(i)}else console.error("未找到泉州信息工程学院的位置")},"泉州市"),t.enableScrollWheelZoom(),this.map=t},locateBySchoolName(){new BMap.Geocoder().getPoint(this.schoolName,e=>{if(e){this.map.centerAndZoom(e,15);const o=new BMap.Marker(e);this.map.clearOverlays(),this.map.addOverlay(o),this.map.panTo(e)}else console.error("未找到该学校的位置")},{city:null})},locateByCoordinates(){const t=parseFloat(this.latitude),e=parseFloat(this.longitude);if(!isNaN(t)&&!isNaN(e)){const o=new BMap.Point(e,t),i=new BMap.Marker(o);this.map.clearOverlays(),this.map.addOverlay(i),this.map.panTo(o)}else console.error("无效的经纬度")}}},B=a("label",{for:"schoolName"},"学校名称：",-1),M=a("label",{for:"longitude"},"经度：",-1),y=a("label",{for:"latitude"},"纬度：",-1),g=a("div",{id:"map-container",style:{width:"100%",height:"800px"}},null,-1);function w(t,e,o,i,n,r){return u(),m("div",null,[a("div",null,[B,s(a("input",{type:"text",id:"schoolName","onUpdate:modelValue":e[0]||(e[0]=l=>n.schoolName=l),placeholder:"请输入学校名称"},null,512),[[d,n.schoolName]]),a("button",{onClick:e[1]||(e[1]=(...l)=>r.locateBySchoolName&&r.locateBySchoolName(...l))},"定位"),c("      "),M,s(a("input",{type:"text",id:"longitude","onUpdate:modelValue":e[2]||(e[2]=l=>n.longitude=l),placeholder:"请输入经度"},null,512),[[d,n.longitude]]),c("   "),y,s(a("input",{type:"text",id:"latitude","onUpdate:modelValue":e[3]||(e[3]=l=>n.latitude=l),placeholder:"请输入纬度"},null,512),[[d,n.latitude]]),a("button",{onClick:e[4]||(e[4]=(...l)=>r.locateByCoordinates&&r.locateByCoordinates(...l))},"定位")]),g])}const f=p(h,[["render",w]]);export{f as default};
